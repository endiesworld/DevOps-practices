<svg xmlns="http://www.w3.org/2000/svg" width="1280" height="760" viewBox="0 0 1280 760" role="img" aria-label="Journey from single app exposure to ingress architecture">
  <style>
    .title { font: 700 28px Arial, sans-serif; fill: #0f172a; }
    .s { font: 700 18px Arial, sans-serif; fill: #0f172a; }
    .t { font: 500 14px Arial, sans-serif; fill: #334155; }
    .box { rx: 12; ry: 12; stroke-width: 2; }
    .arrow { stroke: #1e293b; stroke-width: 3; fill: none; marker-end: url(#arrow); }
  </style>
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#1e293b"/>
    </marker>
  </defs>

  <text x="640" y="36" class="title" text-anchor="middle">Architecture Evolution: Single App to Multi-Service Ingress</text>

  <rect x="40" y="80" width="1200" height="190" fill="#f8fafc" stroke="#94a3b8" stroke-width="2" rx="14"/>
  <text x="70" y="112" class="s">Stage 1: Single app with NodePort</text>
  <rect x="80" y="130" width="180" height="80" class="box" fill="#dbeafe" stroke="#1d4ed8"/>
  <text x="95" y="165" class="t">User</text>
  <rect x="320" y="130" width="220" height="80" class="box" fill="#ffedd5" stroke="#c2410c"/>
  <text x="335" y="165" class="t">Node IP:30080 (NodePort)</text>
  <rect x="600" y="130" width="220" height="80" class="box" fill="#fef9c3" stroke="#a16207"/>
  <text x="615" y="165" class="t">web-service</text>
  <rect x="880" y="130" width="300" height="80" class="box" fill="#f3e8ff" stroke="#7e22ce"/>
  <text x="895" y="165" class="t">web Pods (+ replicas)</text>
  <path d="M260 170 H320" class="arrow"/>
  <path d="M540 170 H600" class="arrow"/>
  <path d="M820 170 H880" class="arrow"/>
  <text x="70" y="236" class="t">Works for one app, but users see node IP/port and routing options are limited.</text>

  <rect x="40" y="290" width="1200" height="210" fill="#f8fafc" stroke="#94a3b8" stroke-width="2" rx="14"/>
  <text x="70" y="322" class="s">Stage 2: Single front-door proxy/LB routing to per-service load balancers</text>
  <rect x="80" y="350" width="180" height="90" class="box" fill="#dbeafe" stroke="#1d4ed8"/>
  <text x="95" y="388" class="t">User + DNS</text>

  <rect x="320" y="350" width="260" height="90" class="box" fill="#dcfce7" stroke="#15803d"/>
  <text x="335" y="383" class="t">Front-door proxy/LB</text>
  <text x="335" y="406" class="t">URL policy outside cluster</text>

  <rect x="650" y="330" width="220" height="70" class="box" fill="#e0f2fe" stroke="#0369a1"/>
  <text x="665" y="368" class="t">LB for web-service</text>
  <rect x="650" y="420" width="220" height="70" class="box" fill="#e0f2fe" stroke="#0369a1"/>
  <text x="665" y="458" class="t">LB for video-service</text>

  <rect x="910" y="330" width="170" height="70" class="box" fill="#fef9c3" stroke="#a16207"/>
  <text x="925" y="368" class="t">web-service</text>
  <rect x="910" y="420" width="170" height="70" class="box" fill="#fef9c3" stroke="#a16207"/>
  <text x="925" y="458" class="t">video-service</text>

  <rect x="1110" y="330" width="100" height="70" class="box" fill="#f3e8ff" stroke="#7e22ce"/>
  <text x="1122" y="368" class="t">web Pods</text>
  <rect x="1110" y="420" width="100" height="70" class="box" fill="#f3e8ff" stroke="#7e22ce"/>
  <text x="1112" y="458" class="t">video Pods</text>

  <path d="M260 395 H320" class="arrow"/>
  <path d="M580 395 L650 365" class="arrow"/>
  <path d="M580 395 L650 455" class="arrow"/>
  <path d="M870 365 H910" class="arrow"/>
  <path d="M870 455 H910" class="arrow"/>
  <path d="M1080 365 H1110" class="arrow"/>
  <path d="M1080 455 H1110" class="arrow"/>

  <text x="70" y="478" class="t">Common workaround as apps grow: one public edge plus extra per-service LB layers and manual policy management.</text>

  <rect x="40" y="520" width="1200" height="200" fill="#f8fafc" stroke="#94a3b8" stroke-width="2" rx="14"/>
  <text x="70" y="552" class="s">Stage 3: One edge + Ingress rules</text>
  <rect x="80" y="580" width="180" height="90" class="box" fill="#dbeafe" stroke="#1d4ed8"/>
  <text x="95" y="620" class="t">User + DNS</text>
  <rect x="320" y="580" width="250" height="90" class="box" fill="#dcfce7" stroke="#15803d"/>
  <text x="335" y="610" class="t">Ingress Controller</text>
  <text x="335" y="632" class="t">Host/path + TLS policy</text>
  <rect x="630" y="580" width="240" height="90" class="box" fill="#fef9c3" stroke="#a16207"/>
  <text x="645" y="610" class="t">web-service</text>
  <text x="645" y="632" class="t">video-service</text>
  <rect x="930" y="580" width="260" height="90" class="box" fill="#f3e8ff" stroke="#7e22ce"/>
  <text x="945" y="610" class="t">web Pods / video Pods</text>
  <text x="945" y="632" class="t">inside same cluster</text>
  <path d="M260 625 H320" class="arrow"/>
  <path d="M570 625 H630" class="arrow"/>
  <path d="M870 625 H930" class="arrow"/>
  <text x="70" y="696" class="t">One external entry point, centralized routing and TLS, lower edge-management overhead.</text>
</svg>
