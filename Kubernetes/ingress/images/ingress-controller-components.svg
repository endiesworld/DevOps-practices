<svg xmlns="http://www.w3.org/2000/svg" width="1280" height="620" viewBox="0 0 1280 620" role="img" aria-label="Ingress controller components in Kubernetes">
  <style>
    .title { font: 700 28px Arial, sans-serif; fill: #0f172a; }
    .h { font: 700 18px Arial, sans-serif; fill: #0f172a; }
    .t { font: 500 14px Arial, sans-serif; fill: #334155; }
    .box { rx: 12; ry: 12; stroke-width: 2; }
    .arrow { stroke: #1e293b; stroke-width: 2.5; fill: none; marker-end: url(#arrow); }
  </style>
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#1e293b"/>
    </marker>
  </defs>

  <text x="640" y="40" class="title" text-anchor="middle">What Makes an Ingress Controller Work</text>

  <rect x="40" y="80" width="1200" height="500" fill="#f8fafc" stroke="#94a3b8" stroke-width="2" rx="14"/>

  <rect x="80" y="130" width="260" height="110" class="box" fill="#dbeafe" stroke="#1d4ed8"/>
  <text x="100" y="162" class="h">Ingress Controller Pods</text>
  <text x="100" y="186" class="t">Reverse proxy + control loop</text>
  <text x="100" y="208" class="t">Watches Ingress resources</text>

  <rect x="80" y="280" width="260" height="90" class="box" fill="#ffedd5" stroke="#c2410c"/>
  <text x="100" y="312" class="h">Service (LB/NodePort)</text>
  <text x="100" y="336" class="t">Exposes controller externally</text>

  <rect x="80" y="410" width="260" height="90" class="box" fill="#fef9c3" stroke="#a16207"/>
  <text x="100" y="442" class="h">ConfigMap / Controller Config</text>
  <text x="100" y="466" class="t">Timeouts, body size, tuning</text>

  <rect x="430" y="130" width="320" height="130" class="box" fill="#dcfce7" stroke="#15803d"/>
  <text x="450" y="162" class="h">RBAC + ServiceAccount</text>
  <text x="450" y="186" class="t">Grants read/watch permissions for:</text>
  <text x="450" y="208" class="t">Ingress, Services, Endpoints, Secrets</text>
  <text x="450" y="230" class="t">Without this, controller cannot reconcile.</text>

  <rect x="430" y="300" width="320" height="200" class="box" fill="#eff6ff" stroke="#1d4ed8"/>
  <text x="450" y="332" class="h">Ingress Resources</text>
  <text x="450" y="358" class="t">host/path rules</text>
  <text x="450" y="382" class="t">TLS references to Secrets</text>
  <text x="450" y="406" class="t">ingressClassName binding</text>
  <text x="450" y="442" class="t">Controller converts these specs into</text>
  <text x="450" y="464" class="t">runtime proxy configuration.</text>

  <rect x="840" y="180" width="360" height="160" class="box" fill="#f3e8ff" stroke="#7e22ce"/>
  <text x="860" y="212" class="h">Application Services</text>
  <text x="860" y="236" class="t">web-service, api-service, video-service</text>
  <text x="860" y="262" class="t">selected Pods behind each Service</text>
  <text x="860" y="288" class="t">actual request destination</text>

  <rect x="840" y="380" width="360" height="120" class="box" fill="#fff7ed" stroke="#c2410c"/>
  <text x="860" y="412" class="h">Traffic Outcome</text>
  <text x="860" y="436" class="t">Client -> Controller -> Service -> Pods</text>
  <text x="860" y="460" class="t">plus centralized TLS/route policy</text>

  <path d="M340 185 H430" class="arrow"/>
  <path d="M340 325 H430" class="arrow"/>
  <path d="M340 455 H430" class="arrow"/>
  <path d="M750 220 H840" class="arrow"/>
  <path d="M750 410 H840" class="arrow"/>
</svg>
