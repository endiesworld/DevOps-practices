<svg xmlns="http://www.w3.org/2000/svg" width="1280" height="560" viewBox="0 0 1280 560" role="img" aria-label="Cloudflare Tunnel integration patterns with Kubernetes Ingress">
  <style>
    .title { font: 700 28px Arial, sans-serif; fill: #0f172a; }
    .subtitle { font: 700 18px Arial, sans-serif; fill: #0f172a; }
    .box { rx: 12; ry: 12; stroke-width: 2; }
    .label { font: 600 16px Arial, sans-serif; fill: #0f172a; text-anchor: middle; dominant-baseline: middle; }
    .arrow { stroke: #1e293b; stroke-width: 3; fill: none; marker-end: url(#arrow); }
    .note { font: 500 14px Arial, sans-serif; fill: #334155; }
  </style>
  <defs>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#1e293b"/>
    </marker>
  </defs>

  <text x="640" y="38" class="title" text-anchor="middle">Cloudflare Tunnel + Kubernetes: Two Common Patterns</text>

  <rect x="30" y="70" width="1220" height="220" fill="#f8fafc" stroke="#94a3b8" stroke-width="2" rx="14"/>
  <text x="60" y="98" class="subtitle">Pattern A: Tunnel -&gt; Service (No Ingress)</text>

  <rect x="70" y="130" width="160" height="90" class="box" fill="#dbeafe" stroke="#1d4ed8"/>
  <text x="150" y="175" class="label">Internet Client</text>
  <rect x="270" y="130" width="180" height="90" class="box" fill="#e0f2fe" stroke="#0369a1"/>
  <text x="360" y="175" class="label">Cloudflare Edge</text>
  <rect x="490" y="130" width="180" height="90" class="box" fill="#ffedd5" stroke="#c2410c"/>
  <text x="580" y="175" class="label">cloudflared Pod</text>
  <rect x="710" y="130" width="170" height="90" class="box" fill="#fef9c3" stroke="#a16207"/>
  <text x="795" y="175" class="label">Service</text>
  <rect x="920" y="130" width="170" height="90" class="box" fill="#f3e8ff" stroke="#7e22ce"/>
  <text x="1005" y="175" class="label">App Pods</text>

  <path d="M230 175 H270" class="arrow"/>
  <path d="M450 175 H490" class="arrow"/>
  <path d="M670 175 H710" class="arrow"/>
  <path d="M880 175 H920" class="arrow"/>

  <text x="1120" y="175" class="note">Routing is mostly managed in Cloudflare.</text>

  <rect x="30" y="310" width="1220" height="220" fill="#f8fafc" stroke="#94a3b8" stroke-width="2" rx="14"/>
  <text x="60" y="338" class="subtitle">Pattern B: Tunnel -&gt; Ingress Controller -&gt; Ingress Rules</text>

  <rect x="70" y="370" width="160" height="90" class="box" fill="#dbeafe" stroke="#1d4ed8"/>
  <text x="150" y="415" class="label">Internet Client</text>
  <rect x="260" y="370" width="180" height="90" class="box" fill="#e0f2fe" stroke="#0369a1"/>
  <text x="350" y="415" class="label">Cloudflare Edge</text>
  <rect x="470" y="370" width="180" height="90" class="box" fill="#ffedd5" stroke="#c2410c"/>
  <text x="560" y="415" class="label">cloudflared Pod</text>
  <rect x="680" y="370" width="190" height="90" class="box" fill="#dcfce7" stroke="#15803d"/>
  <text x="775" y="415" class="label">Ingress Controller</text>
  <rect x="900" y="370" width="160" height="90" class="box" fill="#fef9c3" stroke="#a16207"/>
  <text x="980" y="415" class="label">Services</text>
  <rect x="1090" y="370" width="140" height="90" class="box" fill="#f3e8ff" stroke="#7e22ce"/>
  <text x="1160" y="415" class="label">Pods</text>

  <path d="M230 415 H260" class="arrow"/>
  <path d="M440 415 H470" class="arrow"/>
  <path d="M650 415 H680" class="arrow"/>
  <path d="M870 415 H900" class="arrow"/>
  <path d="M1060 415 H1090" class="arrow"/>

  <text x="1090" y="488" class="note">Kubernetes owns host/path routing via Ingress objects.</text>
</svg>
